/*
 * windowResize
 * Attach it to the window to delay it, catch if resize is more important than XXpx or simply to  catch the good IE resize event (IE < 9)
 * Latest version and complete README available on Github:
 * https://github.com/intraordinaire/window_resize
 * @version 1.0
 * Copyright 2012 Vincent Garcia
 * @author Vincent Garcia https://github.com/intraordinaire/
 * Licensed under the MIT license.
 */
(function(e){e.windowResize=function(t,n){this.settings=e.extend(true,{},e.windowResize.defaults,n);this.element=t;this.init()};e.extend(e.windowResize,{processing:false,window_height:0,window_width:0,timer:0,evt:null,defaults:{timeout:0,callback:null,diff_height:false,diff_width:false,type:"both"},prototype:{init:function(){if(this.settings.callback==null){return}if(this.settings.type!="both"&&this.settings.type!="both"&&this.settings.type!="both"){this.settings.type="both"}var t=e(window);this.window_height=t.height();this.window_width=t.width();t.resize(e.proxy(this,"handleResize"))},handleResize:function(e){this.evt=e;this.triggerResize()},triggerResize:function(){if(this.isResized()){if(this.settings.timeout!=false&&!isNaN(this.settings.timeout)){this.delayEvent()}else{this.sendEvent()}}return false},sendEvent:function(){return this.settings.callback.apply(this,[this.evt])},isResized:function(){if(e.browser.msie&&parseInt(e.browser.version,10)<9||this.settings.diff_height!=false||this.settings.diff_width!=false){var t=e(window).height();var n=!this.settings.diff_height&&t!=this.window_height||this.settings.diff_height&&(parseInt(this.settings.diff_height)<parseInt(this.window_height-t)||parseInt(this.settings.diff_height)*-1>parseInt(this.window_height-t));var r=e(window).width();var i=!this.settings.diff_width&&r!=this.window_width||this.settings.diff_width&&(parseInt(this.settings.diff_width)<parseInt(this.window_width-r)||parseInt(this.settings.diff_width)*-1>parseInt(this.window_width-r));if(this.settings.type=="both"&&(n||i)||this.settings.type=="height"&&n||this.settings.type=="width"&&i){this.window_height=t;this.window_width=r;return true}return false}return true},delayEvent:function(){clearTimeout(this.timer);this.timer=setTimeout(e.proxy(this,"sendEvent"),parseInt(this.settings.timeout))}}});e.fn.windowResize=function(t){return this.each(function(){if(undefined==e(this).data("windowResize")){if(this==window){e(this).data("windowResize",new e.windowResize(this,t))}else if(!undefined(t.callback)){e(this).resize(t.callback)}}})}})(jQuery)