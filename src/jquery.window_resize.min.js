/*
 * windowResize
 * https://github.com/intraordinaire/window_resize
 * @version 1.1.1
 */
(function(e){e.windowResize=function(t,n){this.settings=e.extend(true,{},e.windowResize.defaults,n);this.element=t;this.init()};e.extend(e.windowResize,{window_height:0,window_width:0,timer:0,evt:null,defaults:{timeout:0,callback:null,diff_height:false,step_height:false,diff_width:false,step_width:false,type:"both"},prototype:{init:function(){if(this.settings.callback==null){return}if(this.settings.type!="both"&&this.settings.type!="width"&&this.settings.type!="height"){this.settings.type="both"}var t=e(window);this.window_height=t.height();this.window_width=t.width();t.resize(e.proxy(this,"handleResize"))},handleResize:function(e){this.evt=e;if(this.isResized()){if(this.settings.timeout!=false&&!isNaN(this.settings.timeout)){this.delayEvent()}else{this.sendEvent()}}},isResized:function(){if(e.browser.msie&&parseInt(e.browser.version,10)<9||this.settings.diff_height!=false||this.settings.diff_width!=false||this.settings.step_height!=false||this.settings.step_width!=false||this.settings.type!="both"){var t=e(window).height();var n=this.checkSize(t,this.settings.diff_height,this.settings.step_height,this.window_height);var r=e(window).width();var i=this.checkSize(r,this.settings.diff_width,this.settings.step_width,this.window_width);if(this.settings.type=="both"&&(n||i)||this.settings.type=="height"&&n||this.settings.type=="width"&&i){this.window_height=t;this.window_width=r;return true}return false}return true},sendEvent:function(){this.settings.callback.apply(this,[this.evt])},checkSize:function(e,t,n,r){return!t&&!n&&e!=r||t&&(parseInt(t)<parseInt(r-e)||parseInt(t)*-1>parseInt(r-e))||typeof n=="object"&&this.inStep(e,r,n)},delayEvent:function(){clearTimeout(this.timer);this.timer=setTimeout(e.proxy(this,"sendEvent"),parseInt(this.settings.timeout))},inStep:function(e,t,n){var r=n.length;for(var i=0;i<r;i++){if(n[i]==e||n[i]==t||n[i]<e&&n[i]>t||n[i]>e&&n[i]<t)return true}return false}}});e.fn.windowResize=function(t){return this.each(function(){if(undefined==e(this).data("windowResize")){if(this==window){e(this).data("windowResize",new e.windowResize(this,t))}else if(!undefined(t.callback)){e(this).resize(t.callback)}}})}})(jQuery)